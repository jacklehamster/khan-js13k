let i=document.querySelector.bind(document);let C=i("canvas");let $=C.getContext("2d");let h=C.style;C.width=2e3;h.width=`${C.width/2}px`;C.height=1200;h.height=`${C.height/2}px`;h.border="1px solid black";h.backgroundColor="#efd";h.transition="background-color 0.5s";const l=.75;const n={};document.addEventListener("keyup",e=>{delete n[e.code]});document.addEventListener("keydown",e=>{n[e.code]=true;e.preventDefault()});const s=[];const k=[0,0];let d=true;const E={speedWhileShooting:2,speed:2,maxHealth:2,shield:0,quickShot:1,money:2};const c=6;let f=c;const e=document.body.appendChild(document.createElement("div"));e.style.position="absolute";e.style.top="10px";e.style.left="10px";function u(){const t=c+E.maxHealth*2;let n="";for(let e=0;e<Math.floor(f/2);e++){n+="â¤ï¸"}if(f%2){n+="â¤ï¸â€ðŸ©¹"}for(let e=Math.ceil(f/2);e<t/2;e++){n+="ðŸ©¶"}e.innerText=n}let O=0;const t=document.body.appendChild(document.createElement("div"));t.style.position="absolute";t.style.top="30px";t.style.left="10px";function T(){t.textContent=!O?"":`â­ ${O}`}const o=document.body.appendChild(document.createElement("div"));o.style.position="absolute";o.style.top="50px";o.style.left="10px";o.style.color="snow";o.textContent="Press ESC to continue";o.style.display="none";function w(){o.style.display=""}function a(e){const t=[];const n=new XMLHttpRequest;n.open("GET",e,false);n.overrideMimeType("text/plain; charset=x-user-defined");n.send(null);if(n.status===200){for(let e=0;e<n.responseText.length;++e){t.push(n.responseText.charCodeAt(e)&255)}}return t}let y=true;window.addEventListener("blur",function(e){y=false},false);window.addEventListener("focus",function(e){y=true},false);let q;document.addEventListener("DOMContentLoaded",()=>{const e=a("rider.13k");q=fe(e);console.log(q);re(0)});const b=1600;const A=1e3;let S=5;function K(n,o,r,i,a,s,d,e,l,c,t){const h=i/b;const f=a/A;n.fillStyle=e??"black";q.shapes.forEach(e=>{if(e.hidden||e.anim!==d){return}const t=e.lines[s%e.lines.length];if(t){n.beginPath();j(n,o,r,t[0]*h,t[1]*f,false,i,a,l,c);for(let e=2;e<t.length;e+=2){j(n,o,r,t[e]*h,t[e+1]*f,true,i,a,l,c)}n.closePath()}n.fill()})}function j(e,t,n,o,r,i,a,s,d,l){if(i){e.lineTo(t+o,n+r+(o/a-.5)*15*d+l*(Math.random()-.5))}else{e.moveTo(t+o,n+r+(o/a-.5)*15*d+l*(Math.random()-.5))}}const _=.5;function B(e){L[e].x=L[F-1].x;L[e].y=L[F-1].y;L[e].dx=L[F-1].dx;L[e].dy=L[F-1].dy;L[e].born=L[F-1].born;F--}let F=0;const L=[];function U(e){const{x:t,y:n,dx:o,dy:r,archerOrientation:i}=e;if(F>=L.length){L.push({})}L[F].dx=i*120+o*2;L[F].dy=-5+r*10;L[F].x=t+L[F].dx;L[F].y=n-80*l;L[F].born=e.time;F++}function G(e){const t=e.dt/20;const n=I(e.ax,e);const o=I(e.ay,e);const r=Math.sqrt(n*n+o*o);if(n!==0){e.orientation=n}const i=I(e.speed,e)*(e.dead?2:1)*(e.superSoldier&&e.soldier?.7:1);const a=e.brake;if(r){e.dx=(e.dx+n/r*i)*a;e.dy=(e.dy+o/r*i/2)*a}else{e.dx=e.dx*a;e.dy=e.dy*a}if(I(e.moving,e)){e.x+=e.dx*t;e.y+=e.dy*t}const s=Math.sqrt(e.dx*e.dx+e.dy*e.dy);e.horseFrame+=t*Math.max(.08,s/50)}function z(e){D.x=e.x;D.y=e.y+200;D.dx=0;D.dy=0;R(Y).closed=true;Y=null;d=false}const P={parent:true,time:0,nextShot:0,process:e=>{if(!e.parent){return}if(Y){if(n.Escape){z(Y);o.style.display="none"}else{return}}if(!f){if(n.Escape){f=c+E.maxHealth*2;O=0;D.dead=0;o.style.display="none";T();u()}}if(!f&&e.hero){return}G(e);if(d){e.x=Math.max(-C.width/2,Math.min(e.x,C.width/2));e.y=Math.max(-C.height/2,Math.min(e.y,C.height/2))}const t=I(e.shooting,e);if(!t){e.archerOrientation=e.orientation}else{if(e.time>e.nextShot){U(e);e.nextShot=e.time+I(e.shootPeriod,e)}}},shootPeriod:300,archerOrientation:1,orientation:1,brake:.99,speed:e=>I(e.shooting,e)?.03+E.speedWhileShooting*.02:.05+E.speed*.03,x:300,y:500,moving:e=>Math.abs(e.dx)>_||Math.abs(e.dy)>_,shooting:()=>n.Space,ax:()=>(n.KeyA||n.ArrowLeft?-1:0)+(n.KeyD||n.ArrowRight?1:0),ay:()=>(n.KeyW||n.ArrowUp?-1:0)+(n.KeyS||n.ArrowDown?1:0),dx:0,dy:0,width:250*l,height:200*l,born:0,horseFrame:0,random:0,riderAnimation:"archer",layer:0,sprites:[e=>I({...e,y:e=>I(e.y,e)-.1,parent:false,sprites:undefined,animation:e=>I(e.riderAnimation,e),range:e=>I(e.rangeOverride,e)??(I(e.shooting,e)?[0,3]:[0]),hotspot:[e=>I(e.moving,e)?.5-e.orientation*I(e.archerOrientation,e)*.05:.53,e=>I(e.moving,e)?.65+Math.sin(e.horseFrame*.7)/100:.7],color:e=>I(e.foeColor,e)??(e.corpse?e.color:e.hill?"#af8":e.tree?"#270":"black"),direction:e=>Math.sign(I(e.archerOrientation,e)),frame:e=>I(e.horseFrame,e),random:4,hidden:e=>e.dead},e),e=>I({...e,y:e=>I(e.y,e),parent:false,sprites:undefined,animation:e=>e.hill?"hut":"horse",range:e=>e.hill?[0]:I(e.moving,e)?[0,10]:[11],hotspot:[.47,.72],color:e=>e.hill&&R(e).closed?"#ba6":e.superSoldier?"#a08":e.foe?"#004":"#630",direction:e=>Math.sign(e.orientation),frame:e=>I(e.horseFrame,e),random:e=>e.superSoldier?100:4,hidden:e=>e.tree&&!e.hill||e.corpse||e.soldier},e),e=>I({...e,y:e=>I(e.y,e)+1,parent:false,sprites:undefined,animation:"shield",range:[0],hotspot:[.47,.72],color:()=>E.shield>1?"gold":"#69f",direction:e=>Math.sign(e.orientation),frame:e=>0,hidden:e=>e.foe||e.corpse||e.soldier||!E.shield},e),e=>I({...e,layer:-2,parent:false,sprites:undefined,animation:e=>e.soldier?"soldier":e.corpse?"dead":e.hill?"hill":e.tree?"tree":"horse",range:e=>e.corpse?I(e.rangeOverride,e):e.tree?[0]:I(e.moving,e)?[0,10]:[11],hotspot:e=>e.tree?[.53,1]:[.47,.72],color:"#999",direction:e=>Math.sign(e.orientation),height:-50,frame:e=>I(e.horseFrame,e),hidden:e=>e.dead&&e.soldier},e)]};function I(t,n){if(typeof t==="object"){if(Array.isArray(t)){return t.map(e=>I(e,n))}else{const o={};for(let e in t){o[e]=I(t[e],n)}return o}}return typeof t==="function"?t(n):t}function m(e,A,t,S){e.dt=t;e.time=A;const n=I(e.sprites,e);n.forEach(e=>{const{x:t,y:n,width:o,height:r,hotspot:i,foeIndex:a,dead:s,color:d,foeColor:l,superSoldier:c,hidden:h,tree:f}=e;if(h||Y&&!f){return}const u=t-i[0]*o-k[0];const y=n-i[1]*r-k[1];const m=u+o;const p=y+r;if(m<0||p<0||u>C.width||y>C.height){return}if(a!==undefined&&!s){for(let e=F-1;e>=0;e--){const x=L[e];if(x.x-k[0]>u&&x.x-k[0]<m&&x.y-k[1]>y&&x.y-k[1]<p){const g=c?Math.random()<.05:true;const M=te[a];if(g){M.dead=A;V(M,A,x.dx,l??d);const v=D.x-M.x;const w=D.y-M.y;const b=Math.sqrt(v*v+w*w);M.dx=0;M.dy=0;M.goal[0]=M.x+-v/b*2e3;M.goal[1]=M.y+-w/b*2e3;O+=(c?60:10)*(1+.5*E.money);T()}else{M.hitTime=A}B(e);if(E.quickShot){D.nextShot=A+50}}}}S.push(e)})}const H={};function J(e){let{x:t,y:n,width:o,height:r,animation:i,horseFrame:a,range:s,hotspot:d,color:l,time:c,hitTime:h,dead:f,direction:u,dy:y,random:m,hidden:p,cache:x,hero:g,hill:M}=e;if(M&&!R(e).closed){X=e}if(h&&c-h<50){l=g?"red":"white"}let v=s[0]+(s.length<=1?0:Math.floor(a)%(s[1]-s[0]+1));const w=I(u,P);const b=I(y,P);if(x){const A=q.animations.indexOf(i);const S=`${i}-${v}-${l}-${w}-${o}-${r}`;let e;if(!H[S]){e=document.createElement("canvas");H[S]={canvas:e};e.width=o;e.height=r;e.getContext("2d").lineWidth=6;e.getContext("2d").strokeStyle="black";K(e.getContext("2d"),w<0?o:0,r<0?-r:0,o*w,r,v,A,l,0,0)}e=H[S].canvas;$.drawImage(e,t-d[0]*o-k[0],n-(r<0?0:d[1]*r)-k[1]+W);return}const A=q.animations.indexOf(i);K($,t-d[0]*o*w-k[0],n-d[1]*r-k[1]+W,o*w,r,v,A,l,b,m)}const N=60;const Q=1e3/N;let p=0;let x=0;function g(t){if(typeof t==="object"){if(Array.isArray(t)){const o=[...t];for(let e=0;e<o.length;e++){o[e]=g(t[e])}return o}const n={...t};for(let e in n){n[e]=g(t[e])}return n}return t}const D={...g(P),hero:true};let W=0;let M=0;const v=[];function V(e,t,r,n){const o={...g(P),corpse:true,horseFrame:0,x:e.x,y:e.y,rangeOverride:[0,4],range:undefined,archerOrientation:r<0?1:-1,cache:true,riderAnimation:"dead",born:t,color:n,process:e=>{const t=e.time-e.born;const n=Math.floor(t/50);const o=I(e.rangeOverride[1],e);e.horseFrame=Math.min(n,o);if(e.horseFrame<o){e.x+=r*e.dt/1e3}},width:e.width,height:e.height};if(v.length>200){v.shift()}v.push(o);return o}let Z=0;const ee=100;const te=new Array(ee).fill(0).map((e,t)=>{const n=Math.random()*Math.PI*2;const o=Math.cos(n);const r=Math.sin(n);const c=t/ee<.05;const i=t%3<=1;const a=o*(2e3+Math.random()*1e3);const s=r*(2e3+Math.random()*1e3);const d={...g(P),superSoldier:c,foeIndex:t,foeColor:c?i?"blue":"#a00":i?"#75f":"#f0a",horseFrame:Math.floor(Math.random()*100),goal:[a,s],gdist:0,ax:e=>(e.goal[0]-d.x)/2e3,ay:e=>(e.goal[1]-d.y)/2e3,x:a,y:s,rangeOverride:e=>!I(e.moving,e)?[0]:i?[0,4]:[0,3],speed:i?Math.max(.01,Math.random()/30):Math.max(.03,Math.random()/20),archerOrientation:e=>Math.sign(I(e.dx,e)),cache:true,soldier:i,process:o=>{if(!o.parent){return}if(o.dead&&o.time-o.dead>5e3){o.dead=0;o.speed=o.soldier?Math.max(.025,Math.random()/30):Math.max(.03,Math.random()/20)}G(o);const e=o.x-o.goal[0];const t=o.y-o.goal[1];o.gdist=Math.sqrt(e*e+t*t);const n=o.x-D.x;const r=o.y-D.y;const i=Math.sqrt(n*n+r*r);if(i<50&&!o.dead&&f){Z+=o.superSoldier?5:1;console.log("HIT",Z,(D.time-D.born)/1e3+"s");f=Math.max(0,f-(c?2:1));u();M=40;h.backgroundColor="#a00";setTimeout(()=>{h.backgroundColor="#efd"},150);if(!f){V(D,D.time,(D.x-o.x)*2,D.color);D.dead=D.time;w()}const e=Math.random()*Math.PI*2;const t=Math.cos(e);const n=Math.sin(e);o.x=D.x+t*2e3;o.y=D.y+n*2e3;D.dx=0;D.dy=0;D.hitTime=D.time}if(X||!f){if(!o.pausing){o.pausing=true;const a=o.x-(X??D).x;const s=o.y-(X??D).y;const d=Math.sqrt(a*a+s*s);o.goal[0]=D.x+a/d*2e3;o.goal[1]=D.y+s/d*2e3}}else{if(o.pausing){o.pausing=false}if(i>2500){if(Math.random()<.6||!D.dx&&!D.dy){const e=Math.random()*Math.PI*2;const t=Math.cos(e);const n=Math.sin(e);o.x=D.x+t*1500;o.y=D.y+n*1500}else{const l=Math.sqrt(D.dx*D.dx+D.dy*D.dy);o.x=D.x+D.dx*(1e3+Math.random()*500)/l+(Math.random()-.5)*300;o.y=D.y+D.dy*(1e3+Math.random()*500)/l+(Math.random()-.5)*300}if(o.dead){o.dead=0;o.speed=o.soldier?Math.max(.025,Math.random()/30):Math.max(.03,Math.random()/20)}o.gdist=0}if(o.gdist<100||i>(o.soldier?500:3e3)){o.goal[0]=D.x+(D.x-o.x)+(Math.random()-.5)*(o.soldier?200:300);o.goal[1]=D.y+(D.y-o.y)+(Math.random()-.5)*(o.soldier?200:300)}}},foe:true,width:(i?200*l:220*l)*(c?i?2:1.5:1),height:(i?180*l:180*l)*(c?i?2:1.5:1),riderAnimation:i?"soldier":"sword"};return d});let X=null;let Y=null;const r={};const ne=30;const oe=new Array(ne).fill(0).map((e,t)=>{const r=t<=1;const i=r?2e4:4e3;const a=i/2+500;const n={...g(P),cache:true,x:r?t*i:Math.random()*4e3-2e3,y:r?t*i/2:Math.random()*4e3-2e3,cellX:0,cellY:0,process:e=>{if(!e.parent){return}const t=e.x-D.x;const n=e.y-D.y;const o=Math.sqrt(t*t+n*n);if(o<(r?80:50)){if(r&&!R(e).closed){if(!Y){Y=e;e.enteredHut=e.time;f=c+E.maxHealth*2;u();w()}}else{M=20;D.x-=t;D.y-=n;D.dx=0;D.dy=0}}if(t>a*2){e.x-=i*2;e.cellX--}else if(t<-a*2){e.x+=i*2;e.cellX++}if(n>a){e.y-=i;e.cellY--}else if(n<-a){e.y+=i;e.cellY++}},foe:true,width:(r?600:500)*l,height:(r?400:350+Math.random()*200)*l,riderAnimation:r?"hut":"tree",foeColor:r?`rgb(${200}, ${100+t*55}, ${50+t*50})`:`rgb(${Math.random()*30}, ${Math.random()*150}, ${Math.random()*20})`,tree:true,hill:r,rangeOverride:r?[1]:undefined};return n});function R(e){if(!r[`${e.cellX}_${e.cellY}`]){r[`${e.cellX}_${e.cellY}`]={}}return r[`${e.cellX}_${e.cellY}`]}function re(t){requestAnimationFrame(re);if(t-p<=Q||!y){return}p=Math.max(p,t-100);const n=t-p;const o=n/20;p=t;if(M){W=Math.random()*M;M*=.5;if(M<.1){M=0}}$.clearRect(0,0,C.width,C.height);$.beginPath();$.strokeStyle="#038";$.lineWidth=6;for(let e=0;e<F;e++){const r=L[e];const F=50;const i=Math.sqrt(r.dx*r.dx+r.dy*r.dy)+1;$.moveTo(r.x-k[0],r.y-k[1]+W);$.lineTo(r.x-k[0]-r.dx/i*F,r.y-k[1]+W-r.dy/i*F);r.dy+=.3;r.x+=r.dx/i*F*o;r.y+=r.dy/i*F*o}$.stroke();for(let e=F-1;e>=0;e--){if(t-L[e].born>1500){B(e)}}$.strokeStyle="#380";$.lineWidth=2;s.length=0;ie(s);m(D,t,n,s);te.forEach(e=>{m(e,t,n,s)});v.forEach(e=>{m(e,t,n,s)});oe.forEach(e=>{m(e,t,n,s)});s.sort((e,t)=>{if(e.layer!==t.layer){return e.layer-t.layer}return Math.sign(e.y-t.y)});X=null;s.forEach(e=>J(e,t));if(!f){const e=Math.min(.7,(t-D.dead)/3e3);$.fillStyle=`rgb(200,0,0,${e})`;$.fillRect(0,0,C.width,C.height);$.fill()}else if(!Y){if(!d){x+=((D.dx*D.archerOrientation<0?0:D.dx)/2+D.archerOrientation*2-x)*.05;k[0]+=D.dt/20*(D.x-C.width/2-k[0]+x*80)*.1;k[1]+=D.dt/20*(D.y-C.height/2-k[1]+D.dy*50)*.1}else{k[0]=-C.width/2;k[1]=-C.height/2}}else{const a=Math.min(1,(t-Y.enteredHut)/500);$.fillStyle=`rgb(0,0,0,${a})`;$.fillRect(0,0,C.width,C.height);$.fill()}}function ie(){const n=200;$.beginPath();const o=[Math.round(k[0]/n),Math.round(k[1]/n)];for(let t=-15;t<15;t++){for(let e=-20;e<20;e++){const r=e+o[0];const i=t+o[1];const a=Math.sin(r*123+i*9991)+Math.sin(r*123/10+i*9991/100)+Math.sin(r*123/10+i*9991/100);const s=Math.cos(r*12331+i*2221)+Math.cos(r*12331/10+i*2221/10)+Math.cos(r*12331/100+i*2221/100);const d=a*500;const l=s*200;const c=r*n-k[0]+d;const h=i*n-k[1]+l;$.moveTo(c,h+W);$.lineTo(c+a*100,h+W+3);$.lineTo(c+a*100+s*100,h+W)}}$.stroke()}u();T();function ae(t){const n=new Array(Math.ceil(t.length*2));for(let e=0;e<t.length;e++){n[e*2]=t[e]%16;n[e*2+1]=(t[e]>>4)%16}return n}function se(e){const t=[0,0];let n=0,o=0;do{n=e.pop()-7;o=e.pop()-7;t[0]+=n;t[1]+=o}while(n||o);let r,i;do{n=e.pop()-7;o=e.pop()-7;if(n||o){const a=r*o;const s=i*n;if(Math.abs(a-s)<5){t[t.length-2]+=n;t[t.length-1]+=o}else{t.push(t[t.length-2]+n,t[t.length-1]+o)}r=n;i=o}}while(n||o);return t}function de(t,n){const o=new Array(t.pop());for(let e=0;e<o.length;e++){o[e]=se(t).map(e=>e*n)}return o}function le(t){const n=t.pop();const o=[];for(let e=0;e<n;e++){const r=t.pop()+(t.pop()<<4);o.push(String.fromCharCode(r))}return o.join("")}function ce(t,n){const o=new Array(t.pop());for(let e=0;e<o.length;e++){o[e]={};o[e].name=le(t);o[e].lines=de(t,n);o[e].anim=t.pop();const r=t.pop();o[e].hidden=r===1}return o}function he(t){const n=new Array(t.pop());for(let e=0;e<n.length;e++){n[e]=le(t)}return n}function fe(e){const t=ae(e);const n={};t.reverse();const o=t.pop();n.animations=he(t);n.shapes=ce(t,o);return n}"use strict";var ue=function(){var K=function(e){return Math.sin(e*6.283184)};var e=function(e){return 2*(e%1)-1};var t=function(e){return e%1<.5?1:-1};var n=function(e){var t=e%1*4;if(t<2)return t-1;return 3-t};var k=function(e){return.003959503758*2**((e-128)/12)};var j=function(e,t,n){var o=_[e.i[0]],r=e.i[1],i=e.i[3]/32,a=_[e.i[4]],s=e.i[5],d=e.i[8]/32,l=e.i[9],c=e.i[10]*e.i[10]*4,h=e.i[11]*e.i[11]*4,f=e.i[12]*e.i[12]*4,u=1/f,y=-e.i[13]/16,m=e.i[14],p=n*2**(2-e.i[15]);var x=new Int32Array(c+h+f);var g=0,M=0;var v,w,b,A,S,C,$;for(v=0,w=0;v<c+h+f;v++,w++){if(w>=0){m=m>>8|(m&255)<<4;w-=p;C=k(t+(m&15)+e.i[2]-128);$=k(t+(m&15)+e.i[6]-128)*(1+8e-4*e.i[7])}b=1;if(v<c){b=v/c}else if(v>=c+h){b=(v-c-h)*u;b=(1-b)*3**(y*b)}g+=C*b**i;S=o(g)*r;M+=$*b**d;S+=a(M)*s;if(l){S+=(2*Math.random()-1)*l}x[v]=80*S*b|0}return x};var _=[K,t,e,n];var B,U,G,z,J;this.init=function(e){B=e;U=e.endPattern;G=0;z=e.rowLen*e.patternLen*(U+1)*2;J=new Int32Array(z)};this.generate=function(){var e,t,H,n,o,r,i,a,s,d,D,W,X,l,c,h,Y;var f=new Int32Array(z),u=B.songData[G],y=B.rowLen,m=B.patternLen;var p=0,x=0,g;var M,v=false;var w=[];for(n=0;n<=U;++n){a=u.p[n];for(o=0;o<m;++o){var b=a?u.c[a-1].f[o]:0;if(b){u.i[b-1]=u.c[a-1].f[o+m]||0;if(b<17){w=[]}}var A=_[u.i[16]],S=u.i[17]/512,C=2**(u.i[18]-9)/y,$=u.i[19],k=u.i[20],E=u.i[21]*43.23529*3.141592/44100,O=1-u.i[22]/255,T=u.i[23]*1e-5,q=u.i[24]/32,F=u.i[25]/512,R=6.283184*2**(u.i[26]-9)/y,L=u.i[27]/255,P=u.i[28]*y&~1;c=(n*m+o)*y;for(r=0;r<4;++r){i=a?u.c[a-1].n[o+r*m]:0;if(i){if(!w[i]){w[i]=j(u,i,y)}var I=w[i];for(t=0,e=c*2;t<I.length;t++,e+=2){f[e]+=I[t]}}}for(t=0;t<y;t++){s=(c+t)*2;l=f[s];if(l||v){h=E;if($){h*=A(C*s)*S+.5}h=1.5*Math.sin(h);p+=h*x;g=O*(l-x)-p;x+=h*g;l=k==3?x:k==1?g:p;if(T){l*=T;l=l<1?l>-1?K(l*.25):-1:1;l/=T}l*=q;v=l*l>1e-5;d=Math.sin(R*s)*F+.5;M=l*(1-d);l*=d}else{M=0}if(s>=P){M+=f[s-P+1]*L;l+=f[s-P]*L}f[s]=M|0;f[s+1]=l|0;J[s]+=M|0;J[s+1]+=l|0}}}G++;return G/B.numChannels};this.createAudioBuffer=function(e){var t=e.createBuffer(2,z/2,44100);for(var n=0;n<2;n++){var o=t.getChannelData(n);for(var r=n;r<z;r+=2){o[r>>1]=J[r]/65536}}return t};this.createWave=function(){var e=44;var t=e+z*2-8;var n=t-36;var o=new Uint8Array(e+z*2);o.set([82,73,70,70,t&255,t>>8&255,t>>16&255,t>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,n&255,n>>8&255,n>>16&255,n>>24&255]);for(var r=0,i=e;r<z;++r){var a=J[r];a=a<-32767?-32767:a>32767?32767:a;o[i++]=a&255;o[i++]=a>>8&255}return o};this.getData=function(e,t){var n=2*Math.floor(e*44100);var o=new Array(t);for(var r=0;r<2*t;r+=1){var i=n+r;o[r]=e>0&&i<J.length?J[i]/32768:0}return o}};